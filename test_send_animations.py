import json
import time

import paho.mqtt.client as mqtt
from thing_to_obj_map import obj_to_thing

host_name = "10.0.0.200"
sender_mqtt_client_id = "leds-seq-creator"

client = mqtt.Client(sender_mqtt_client_id)
client.connect(host_name)

filename = "alterego"

for _ in range(100):
    for led_object, thing_name in obj_to_thing.items():
        json_str = """[{"t":"al","p":"a","s":0,"e":780487,"params":{"hsv1":[0.0],"hsv2":[0.3333333333333333],"numPix":3}},{"t":"const","p":"a","s":0,"e":15609,"params":{"hsv":[0.0]}},{"t":"snake","p":"a","s":0,"e":15609,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":0,"e":15609,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":15609,"e":31219,"params":{"hsv":[0.02]}},{"t":"snake","p":"a","s":15609,"e":31219,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":15609,"e":31219,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}},{"t":"const","p":"a","s":31219,"e":46829,"params":{"hsv":[0.04]}},{"t":"snake","p":"a","s":31219,"e":46829,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":31219,"e":46829,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":46829,"e":62439,"params":{"hsv":[0.06]}},{"t":"snake","p":"a","s":46829,"e":62439,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":46829,"e":62439,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}},{"t":"const","p":"a","s":62439,"e":78048,"params":{"hsv":[0.08]}},{"t":"snake","p":"a","s":62439,"e":78048,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":62439,"e":78048,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":78048,"e":93658,"params":{"hsv":[0.1]}},{"t":"snake","p":"a","s":78048,"e":93658,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":78048,"e":93658,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}},{"t":"const","p":"a","s":93658,"e":109268,"params":{"hsv":[0.12]}},{"t":"snake","p":"a","s":93658,"e":109268,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":93658,"e":109268,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":109268,"e":124878,"params":{"hsv":[0.14]}},{"t":"snake","p":"a","s":109268,"e":124878,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":109268,"e":124878,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}},{"t":"const","p":"a","s":124878,"e":140487,"params":{"hsv":[0.16]}},{"t":"snake","p":"a","s":124878,"e":140487,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":124878,"e":140487,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":140487,"e":156097,"params":{"hsv":[0.18]}},{"t":"snake","p":"a","s":140487,"e":156097,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":140487,"e":156097,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}},{"t":"const","p":"a","s":156097,"e":171707,"params":{"hsv":[0.2]}},{"t":"snake","p":"a","s":156097,"e":171707,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":156097,"e":171707,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":171707,"e":187317,"params":{"hsv":[0.22]}},{"t":"snake","p":"a","s":171707,"e":187317,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":171707,"e":187317,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}},{"t":"const","p":"a","s":187317,"e":202926,"params":{"hsv":[0.24]}},{"t":"snake","p":"a","s":187317,"e":202926,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":187317,"e":202926,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":202926,"e":218536,"params":{"hsv":[0.26]}},{"t":"snake","p":"a","s":202926,"e":218536,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":202926,"e":218536,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}},{"t":"const","p":"a","s":218536,"e":234146,"params":{"hsv":[0.28]}},{"t":"snake","p":"a","s":218536,"e":234146,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":218536,"e":234146,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":234146,"e":249756,"params":{"hsv":[0.3]}},{"t":"snake","p":"a","s":234146,"e":249756,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":234146,"e":249756,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}},{"t":"const","p":"a","s":249756,"e":265365,"params":{"hsv":[0.32]}},{"t":"snake","p":"a","s":249756,"e":265365,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":249756,"e":265365,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":265365,"e":280975,"params":{"hsv":[0.34]}},{"t":"snake","p":"a","s":265365,"e":280975,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":265365,"e":280975,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}},{"t":"const","p":"a","s":280975,"e":296585,"params":{"hsv":[0.36]}},{"t":"snake","p":"a","s":280975,"e":296585,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":280975,"e":296585,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":296585,"e":312195,"params":{"hsv":[0.38]}},{"t":"snake","p":"a","s":296585,"e":312195,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":296585,"e":312195,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}},{"t":"const","p":"a","s":312195,"e":327804,"params":{"hsv":[0.4]}},{"t":"snake","p":"a","s":312195,"e":327804,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":312195,"e":327804,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":327804,"e":343414,"params":{"hsv":[0.42]}},{"t":"snake","p":"a","s":327804,"e":343414,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":327804,"e":343414,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}},{"t":"const","p":"a","s":343414,"e":359024,"params":{"hsv":[0.44]}},{"t":"snake","p":"a","s":343414,"e":359024,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":343414,"e":359024,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":359024,"e":374634,"params":{"hsv":[0.46]}},{"t":"snake","p":"a","s":359024,"e":374634,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":359024,"e":374634,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}},{"t":"const","p":"a","s":374634,"e":390243,"params":{"hsv":[0.48]}},{"t":"snake","p":"a","s":374634,"e":390243,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":374634,"e":390243,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":390243,"e":405853,"params":{"hsv":[0.5]}},{"t":"snake","p":"a","s":390243,"e":405853,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":390243,"e":405853,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}},{"t":"const","p":"a","s":405853,"e":421463,"params":{"hsv":[0.52]}},{"t":"snake","p":"a","s":405853,"e":421463,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":405853,"e":421463,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":421463,"e":437073,"params":{"hsv":[0.54]}},{"t":"snake","p":"a","s":421463,"e":437073,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":421463,"e":437073,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}},{"t":"const","p":"a","s":437073,"e":452682,"params":{"hsv":[0.56]}},{"t":"snake","p":"a","s":437073,"e":452682,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":437073,"e":452682,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":32.0}}},{"t":"const","p":"a","s":452682,"e":468292,"params":{"hsv":[0.58]}},{"t":"snake","p":"a","s":452682,"e":468292,"params":{"headPos":{"t":"repeat","num":32.0,"func":{"t":"lin","start":0.0,"end":2.0}},"length":{"t":"const","val":1.0},"dir":{"t":"const"}}},{"t":"hue_shift","p":"a","s":452682,"e":468292,"params":{"shiftAmount":{"t":"sin","min":-0.25,"max":0.25,"phase":-0.25,"rep":16.0}}}] """
        print("sending json of size {} to thing {}".format(len(json_str), thing_name))
        print(json_str)
        client.publish("animations/{}/{}".format(thing_name, filename), json_str, qos=1)
    time.sleep(5)